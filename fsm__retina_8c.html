<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retina: recepción y transmisión de infrarrojos: common/src/fsm_retina.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Retina: recepción y transmisión de infrarrojos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('fsm__retina_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fsm_retina.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Retina FSM main file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="commands_8h.html">commands.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__retina_8h.html">fsm_retina.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__button_8h.html">fsm_button.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__tx_8h.html">fsm_tx.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsm__retina__t.html">fsm_retina_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to define the Retina FSM.  <a href="structfsm__retina__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1493910690d9420cf8b135851ed55211"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a1493910690d9420cf8b135851ed55211">COMMANDS_MEMORY_SIZE</a>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a1493910690d9420cf8b135851ed55211"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:adf764cbdea00d65edcd07bb9953ad2b7"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a> = 0
 }</td></tr>
<tr class="separator:adf764cbdea00d65edcd07bb9953ad2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa252d6804822c94f8c46898a5c70a255"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#aa252d6804822c94f8c46898a5c70a255">check_short_pressed</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:aa252d6804822c94f8c46898a5c70a255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the button has been pressed fast to send a new command.  <a href="fsm__retina_8c.html#aa252d6804822c94f8c46898a5c70a255">More...</a><br /></td></tr>
<tr class="separator:aa252d6804822c94f8c46898a5c70a255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7660e69573bbf3e75ac151864e165b0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#ae7660e69573bbf3e75ac151864e165b0">do_send_next_msg</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:ae7660e69573bbf3e75ac151864e165b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the next code stored in memory after a short button press.  <a href="fsm__retina_8c.html#ae7660e69573bbf3e75ac151864e165b0">More...</a><br /></td></tr>
<tr class="separator:ae7660e69573bbf3e75ac151864e165b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aeb182cbcce91a7f3efff1aeea46441"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a5aeb182cbcce91a7f3efff1aeea46441">fsm_retina_new</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_button, uint32_t button_press_time, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_tx)</td></tr>
<tr class="memdesc:a5aeb182cbcce91a7f3efff1aeea46441"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new RETINA FSM.  <a href="fsm__retina_8c.html#a5aeb182cbcce91a7f3efff1aeea46441">More...</a><br /></td></tr>
<tr class="separator:a5aeb182cbcce91a7f3efff1aeea46441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83d1ef8f6bf3ab54c3ffcb982831295"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#ae83d1ef8f6bf3ab54c3ffcb982831295">fsm_retina_init</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_button, uint32_t button_press_time, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_tx)</td></tr>
<tr class="memdesc:ae83d1ef8f6bf3ab54c3ffcb982831295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the infrared transmitter FSM.  <a href="fsm__retina_8c.html#ae83d1ef8f6bf3ab54c3ffcb982831295">More...</a><br /></td></tr>
<tr class="separator:ae83d1ef8f6bf3ab54c3ffcb982831295"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0654c24f16caff3a93f81f9164cb12db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsm__trans__t.html">fsm_trans_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina_8c.html#a0654c24f16caff3a93f81f9164cb12db">fsm_trans_retina</a> []</td></tr>
<tr class="memdesc:a0654c24f16caff3a93f81f9164cb12db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array representing the transitions table of the FSM Retina.  <a href="fsm__retina_8c.html#a0654c24f16caff3a93f81f9164cb12db">More...</a><br /></td></tr>
<tr class="separator:a0654c24f16caff3a93f81f9164cb12db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Retina FSM main file. </p>
<dl class="section author"><dt>Author</dt><dd>Sistemas Digitales II </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-01-01 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1493910690d9420cf8b135851ed55211"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1493910690d9420cf8b135851ed55211">&#9670;&nbsp;</a></span>COMMANDS_MEMORY_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMANDS_MEMORY_SIZE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of NEC commands stored in the memory of the system Retina </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="adf764cbdea00d65edcd07bb9953ad2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf764cbdea00d65edcd07bb9953ad2b7">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460"></a>WAIT_TX&#160;</td><td class="fielddoc"><p><b>Single state in Version 2</b>. State to wait in transmission mode </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa252d6804822c94f8c46898a5c70a255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa252d6804822c94f8c46898a5c70a255">&#9670;&nbsp;</a></span>check_short_pressed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_short_pressed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the button has been pressed fast to send a new command. </p>
<blockquote class="doxtable">
<p><b>TO-DO alumnos:</b></p>
<p>✅ 1. Call function <code><a class="el" href="fsm__button_8h.html#adf1e6388ab7f1216269fe912a11cf814" title="Return the duration of the last button press.">fsm_button_get_duration()</a></code> and retrieve the duration <br  />
✅ 2. Return <code>true</code> if the duration is not '0' and it is lower than the value stored in <code>long_button_press_ms</code>. Otherwise, return <code>false</code>. </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <code><a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a></code> struct than contains an <code><a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a></code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

</div>
</div>
<a id="ae7660e69573bbf3e75ac151864e165b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7660e69573bbf3e75ac151864e165b0">&#9670;&nbsp;</a></span>do_send_next_msg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_send_next_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transmit the next code stored in memory after a short button press. </p>
<blockquote class="doxtable">
<p><b>TO-DO alumnos:</b></p>
<p>✅ 1. Call function <code><a class="el" href="fsm__tx_8h.html#a2b5ff29c5e73b66861fc6180f1102da8" title="Set the code given.">fsm_tx_set_code()</a></code> using the right arguments to store the code in the FSM of the transmitter <br  />
✅ 2. Call function <code><a class="el" href="fsm__button_8h.html#ad72c67d37f009c4b627d12be1d00c25f" title="Reset the duration of the last button press.">fsm_button_reset_duration()</a></code> using the right arguments to store the code in the FSM of the transmitter <br  />
✅ 3. Increase the value of the field <code>tx_codes_index</code>. Keep its value between 0 and <a class="el" href="fsm__retina_8c.html#a1493910690d9420cf8b135851ed55211">COMMANDS_MEMORY_SIZE</a> <br  />
&#160;&#160;&#160;&#160;💡 You can use the "modulo" operator to make it simpler. <br  />
</p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <code><a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a></code> struct than contains an <code><a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a></code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae83d1ef8f6bf3ab54c3ffcb982831295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae83d1ef8f6bf3ab54c3ffcb982831295">&#9670;&nbsp;</a></span>fsm_retina_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsm_retina_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_button</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>button_press_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_tx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the infrared transmitter FSM. </p>
<p>This function initializes the default values of the FSM struct. On the basic version of Retina, it does not have HW (such as status LEDs, as in example); it that case, this function must call to the <code>port</code> to initialize the HW of associated.</p>
<blockquote class="doxtable">
<p><b>TO-DO alumnos Version 2</b></p>
<p>✅ 1. Assign the FSMs with the received values <br  />
✅ 2. Initialize the field <code>long_button_press_ms</code> with value received <br  />
✅ 3. Initialize the field <code>tx_codes_index</code> <br  />
✅ 4. Initialize the array <code>tx_codes_arr</code> with the desired commands for RED, GREEN, and BLUE colors. The remotes at the laboratory are encoded by the company <b>Liluco</b>. Use the macros <a class="el" href="commands_8h.html#a9825879b368bac36801c9bc0ec847a19">LIL_RED_BUTTON</a>, <a class="el" href="commands_8h.html#a6a2668181696b4acff50028ff54b0d5e">LIL_GREEN_BUTTON</a>, and <a class="el" href="commands_8h.html#a6261e02d0201ae32d22efdcb6e8e7b92">LIL_BLUE_BUTTON</a> respectively. </p>
</blockquote>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <code><a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a></code> struct than contains an <code><a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a></code>. </td></tr>
    <tr><td class="paramname">p_fsm_button</td><td>Pointer to an <code><a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a></code> struct than contains an <code><a class="el" href="structfsm__button__t.html" title="Structure to define the Button FSM.">fsm_button_t</a></code>. </td></tr>
    <tr><td class="paramname">button_press_time_ms</td><td>Duration in ms of the button press to change between transmitter and receiver modes </td></tr>
    <tr><td class="paramname">p_fsm_tx</td><td>Pointer to an <code><a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a></code> struct than contains an <code><a class="el" href="structfsm__tx__t.html" title="Structure to define the Infrared transmitter FSM.">fsm_tx_t</a></code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5aeb182cbcce91a7f3efff1aeea46441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aeb182cbcce91a7f3efff1aeea46441">&#9670;&nbsp;</a></span>fsm_retina_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__t.html">fsm_t</a>* fsm_retina_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_button</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>button_press_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_tx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new RETINA FSM. </p>
<p>This FSM is the main state machine of the Retina system that governs the interaction between the other state machines of the system: button, transmitter and receiver FSM.</p>
<ul>
<li>The FSM starts in the <code>WAIT RX</code> state and checks if the button has been pressed for more than <code>button_press_time_ms</code> ms. If so, it goes to the <code>WAIT TX</code> state to wait to transmit.</li>
<li>When in the <code>WAIT RX</code> state, it checks if the button has been pressed for more than <code>button_press_time_ms</code> ms. If so, it goes to the <code>WAIT RX</code> state to wait to receive.</li>
<li>Being in <code>WAIT RX</code> or <code>WAIT TX</code>, if no machine has any activity (neither the button's FSM, nor the transmitter's, nor the receiver's), it goes to low power mode <code>SLEEP RX</code> or <code>SLEEP TX</code>, respectively.</li>
<li>While in <code>SLEEP RX</code> or <code>SLEEP TX</code>, it checks that no machine has activity, and, by means of an autotransition, it goes to sleep. These autotransitions are used to avoid staying awake by any interruption from other elements than ours, or the debugger.</li>
<li>When waking up by one of our system elements, being in <code>SLEEP RX</code> or <code>SLEEP TX</code>, it will always switch (<code>check_true()</code>) to <code>WAIT RX</code> or <code>WAIT TX</code>, respectively.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_fsm_button</td><td>User button FSM </td></tr>
    <tr><td class="paramname">button_press_time_ms</td><td>Duration in ms of the button press to change between transmitter and receiver modes. </td></tr>
    <tr><td class="paramname">p_fsm_tx</td><td>Infrared transmitter FSM </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the Retina FSM </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0654c24f16caff3a93f81f9164cb12db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0654c24f16caff3a93f81f9164cb12db">&#9670;&nbsp;</a></span>fsm_trans_retina</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__trans__t.html">fsm_trans_t</a> fsm_trans_retina[]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Array representing the transitions table of the FSM Retina. </p>
<blockquote class="doxtable">
<p><b>In Version 2 the FSM Retina only implements one state and it looks like</b>: <br  />
</p><div class="image">
<img src="fsm_retina_v2.png" alt=""/>
</div>
 </blockquote>
<p><br  />
</p><blockquote class="doxtable">
<p><b>The complete FSM Retina is like follows</b>: <br  />
</p><div class="image">
<img src="fsm_retina.png" alt=""/>
</div>
 </blockquote>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_4e4d22e38ca4e2e8207825ee2d00bc54.html">src</a></li><li class="navelem"><a class="el" href="fsm__retina_8c.html">fsm_retina.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
